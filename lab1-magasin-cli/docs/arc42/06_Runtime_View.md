# 6. Vue d’exécution

## 6.1. Scénario : Rechercher un produit

### Description
L’employé sélectionne l’option “Rechercher un produit” dans le menu de l’interface console, puis saisit un critère de recherche tel que l’identifiant, le nom ou la catégorie du produit. Le contrôleur relaie cette demande au `ProduitDAO`, qui effectue une requête SQL (via SQLite) pour extraire les produits correspondants à ce critère. Les résultats sont retournés au contrôleur, qui les affiche à l’écran pour que l’employé puisse consulter ou sélectionner un produit.

### Diagramme de séquence
![dss-rechercher-produit](https://img.plantuml.biz/plantuml/svg/pLRBRXDB4DrRyZ-KlCa49GikEtJ3A_OL5kOIOYGsR3ez5QTHJ_VG3mjs_0ChTYnZrlp1_0bVGbNFqtPu23PO6jipKttgr3cdntxWWt0X5dey2YfeXEbo2L_VVu1pb5Ve-81ee7GsZof0jbO2JgtnLYDz16UrHdSu7er71t1oSW8FPS3eF600QOlIUc621rMKMhs9rSPp4TSk3c9GMdd1vN0L2w4CPFe0gTA-gpO4AMIm3cRf0lAQkGdeBeL4WauCu4rKe8cM5k25yehAIXf7ILLINvWqJ25RIc4C4Ps0y2r_XampL5yqaoYTChnG9rZBi_lW43Hw82wALkt0FnKhuPNfXMZXcrFkC7tuBE49AQlh7A7wn6mVJO6LVAmkq1dIO0Vuh9QRrYP4-cIeHy8Z44HkZQasnCgX5ipB87M3Mb2wKRlKOPEKkGZYWbTFpgmFAuVBvuj9Rzgqsbp407a4BwkD4KxPsgT6V3Y-rue6TskbIVC3Mt9pcBYReZA1LuOH2pGHSc4yZorxvHTVttySHa2nkM95m6ADSb0CfQNRyifIrzGWl2kJ35rRoERJ8p2sE08RGOfGRLRMAKonR7dN8pJ6q1GzwKRip3SPIUpwzg8iaxp4gAWsuSgo0v5lTyb9Z8bPap90Ka4uKLJNb9zUvbEoylQmDLU1oj44TQdO-2Iwq66dP3uTZu1UWm5e74xMrXp2pVDCvOTrCGs1Moo38nSAJBl58Ut6pu6cYmadywZ9IXgJXNuBjnkG-fqhg66V7Ugxd2rcfo_W5jlyt_cpfwtldY-yV3mxdz5aS0BtMpPT7c556QkkQMT5WpqJXcsitd_krFGy7GEvXXG7t8uxRHfdEpq4f4tWqAojulPWBrwJ86qNQPr3NrgJxw0d0NOJj8K-j6PhjuZBIyNJP4tvq9ssBwsCwse3zBnfwkbaRyyCO_JFNeme_f0LDXnBJK_FEaceFUwN_MAM_hT5HjM7VnG1PhMOFvcrCRZHfeNouTz6ddi_4Fo6kf_ApckmMUEpJlmp7UdNWd-eEiubnZL5Qn02XqTiW6Q8BMzspBYpPqR_3Fgk4Nt9B_fnIbidrMUo_VPRtjJ6qEKEvYzp24q-7ZsWz_Ilv1i0)

## 6.2. Scénario : Enregistrer une vente

### Description
L’employé choisit l’option “Enregistrer une vente” depuis l’interface console, puis saisit les produits à vendre ainsi que les quantités correspondantes. Le contrôleur commence par identifier l’employé et vérifie les stocks disponibles pour chaque produit demandé. Il instancie ensuite une entité `Vente` avec les articles valides et les quantités confirmées, puis la transmet au `VenteDAO`. Ce dernier enregistre la vente dans la base de données via Hibernate, en insérant les lignes de la vente (`vente` et `vente_produit`) et en mettant à jour les quantités de stock des produits vendus.

### Diagramme de séquence
![dss-enregistrerVente](https://img.plantuml.biz/plantuml/svg/ZLVDRjj64BuBq3iCT97SDeUsjm9kubeigiQE54jfBmMADRcojoLtwVqna5kkFVVKMs-1SkuRy4to99rPxd99Mh5Zs9PNcj_l-sQuVc4iqzPLvNHYXIqvBBTR-FZkRyYavZV2MCqrECdXdalBON4l69mhQLJ9ySLgLPPSdqmdqyaSJazFuIott6a3t4AkgbeP9gq1KTMbk7FDmP3HTC9ogpHa-AvwowUJ6aiGkQZH5cOXEYosEPCIWy-0cPXpP7l9RfWHCbKIRSDnP1uIBi_MtYuTHtORhGedRBHBnv7TBuH9j8g7wQHWbbqpmp6GClP6y-thYrc2QDaShfs5me79cuDaMgWMbJbSpBclgJb0Vgk44MWsvqUP828GfOfBXqW7S497yEpx21Xy1wOvb3otGY6QYC6nQ3FuJKB1f85oBl2izopdAMoCrOODs6BaNcM--uK9bALccxyigpbyZTQh0ct4NkICQe62OxAktGY0psfryr-9CaARYablA4RE7z_zuoHqxis_u9dH4An1EK9OgigN7sl63XBhM9Fc-ItNzBDXUbKiH752deEtNwbgWN5EgBuhZYh-WF0ZfL0hB55pZEtkCNRgfYE2ac3A90DCkSqkilCTV46G_tYrlWnDS4Dl_FfJTfK1bdyAp-cyVaCjmCNgPGRFfvDUe6VZLYBtlfnn3MFckj5x03dR8yYt228M9EHUwSeZRaPyjM9X0urq80_a5mBgH5PFa5JdI2hVeCyFokNeZ2cJBPuCrEqecZGmpefI64PR1_M8KaHL4uLrwOpmgwZpOVSyXpk7eoiihgBff5IgHdBGCxzbTuv7Kp0CPsyw0Vpwf2OnJHGbBOEYysxzXg9BS0HtJIGF74XSGNMat5XA19eMoh78QJaTaNC8iYfEMjUUyPEox60RoJ946YfnKCMctrO_vLY5dM54O1cmnU-E9vhjia_pP-AR0XZbRXdznMCcLjh-vmubIW-g071RowN03Owv_o1zqBAsAlyJZ20oaYytI94mjPBYkkpvFq9InItAzEndZBkbc96bht3KSP6Wp-isF3z9yHvXxircURRB1dnjirsiaSTLyf33ftXSlpoUVqmZJiTUX3tHHt2yMH19IukbqpOnoyBpZ4iq3ZS7HAX37isjigpy5BI3Ia8AzFL1Dpr8Hc4hT4DyTYaqBv7lbcGXEqdq-pdpcupTe3xdEFqLDwOzSAsfGT96346wE1hcwJqvUr34B5GeYpGgs1lUhaJtD6nRfsSwC4ThyBEsKUsZy41EVAmE0f1QGkR1dluMtSzrSsWVo0XjkWtWfSGln8xSiAspeGLT44i-jFJ7_iusHkN2R-jX3_6wTUmQuaFvv_LAOdE-G5BuaKIbk97SzBPtIianPvTbF7IhLzliQeSlktKRq8liI_hruAFVEof6qzRhWMOj9NjymaP4x8LaFGMH9Fls4VoUUkc2qxnt0pne5edz_fvzMgjuJxHEjsWs1yj4QTfulKjZkgWapuS5J2SlK6N-7v7_0G00)

## 6.3. Scénario : Gérer un retour

### Description
L’employé sélectionne l’option “Retourner un produit” dans le menu console, puis saisit les informations relatives au retour (identifiant du produit, quantité à retourner, motif, etc.). Le contrôleur instancie une entité `Retour`, vérifie la validité des données, puis transmet l’objet au `RetourDAO`. Ce dernier enregistre le retour dans la base de données via Hibernate et met simultanément à jour la quantité en stock du produit concerné pour refléter le retour.

### Diagramme de séquence
![dss-gererRetour](https://img.plantuml.biz/plantuml/svg/bLTDRnit4BqBq7yOw28bTGAqlGLm4zTM6gLEx5XEUYaGKBkKmtJ5LVWXjBTSU-wfjzvQzTn_iFyalwHloEL-oKaGmx2rNCwRDpDlXjGZwuHnVbECHqwvGjBPSaaVtlz1FrHx8mrvJKQwqflnQ3oQql7nCPraJdfZIJhAoissj48xIsgpBTGxN-qjR-AzvrFlLA6iuEtqnc-4qZGhfX8xoz-g_PtnI6IkD3GF2v9j5jf9inQP1BIs9VYyyueAvQWGP8Mo2jksOAmojOLVcfpM-sRBJ6WjpPq92KlrAaFYepFLVmMJs1gbsR08iAN9taZhZAH2MW8N1Qi1_3Dn8wpI0QGi2caIVFt87ivEBcYB504Yg_OvibRznNnt4j5G_k7zdwLHDqeFgR_Yzp0EaEcX1xYHZka1xYq_8aphokmNJdtZI_XV4LUPU-M6v2_ZSdBHFlQSI6taZU8y10-ft3sagx2OW9ednlbUM0I9trBhQez46ba8JgMMI1153U05pNPAq1EraaP34gX-BfnOiVNaihJkniZbY_D9gxEpQh_oZd9F5g5gOLGPfLNhXUvzb-fC3mWk2fb5lpGPgdT2FslAXRPKJDLGOuTYpTwKa9ghBIJge3t7w8nGhelBYstonwF49rAhDG9sDn9qOjfcjXPgS2iQeOljDYIi2BmQoOgTpDXVBMzkkGry2YCsrJ-eMPklwdSdjfA-Xhj53ZMfjSf28PXa8qTWPwW05oGaiqCJf9CAWM4akeCxn5mAiyXdmNoHHzfzZhdS20qdmWTLDRwaHf-XmvX3YCD27jrqDUxWkjK0d2_dv_FJQzhTltj4k-tzkro-nrSNpoAmfHqldCyVNzFJYyNpkFgwHeO1lxt0ydsLqp43n0rumekVdiolvkdTGmwd4IN9zHeYyf0jLFIsX5Gy-Y-qYQdscTz6NRKHkbvC735RMkb39s4U_kj2YJhHtUldENoaMSXF0AtRrDxfvcSegF2cNxrUEuWrge_QKLxjdL25xOgWLbuTWdNrRjR4GPbYy2WZ5HXaQNRJ3ec0mEBeL7fTsWCXViDr32CRlZk0c6QnULZEGOD5MMvH_z1uWbsbIjRxglruHFZfQxKDjjQV8PGqcNQzHEkFofQdTQ_ziHRE6XHwkZWB4nmTM2Dpd0md2jSu0okFZDJpeiaorJzJUfNI5HBP1XZSq1f_CLWeZ5pPQzTysfmT2UspMNZdCREL0vz-4be8vjxkseb2vHq7aV9ICOjsLrEBA9ciD9WGRc3MvzOUEA0NpxAJfm1PyY4sgtDmH1h9uz7t8lhYew6BsK4PZecNbsSdr_DMMkZkvVmwaPRStst7ftxlOVVRiaVuuiUFynYs8sIrLcOJnkqmaUVDgOsqRPHjZdFhcIE6PZfoauqihEnaNkdRAlJvrf-yE82OV66LSLsgwto40behRkA5HcAnnrZdyI5GJ-eMAmiHzoVF5z2l4mvzSFFXPXd0kCKoQ4b6n4ctpJYQqB6-uO1fl8wzPTl-waoZ0t8Xb4_F6nZZselLT0c80q9ulgmbnm_JrBcIgz9dC7HybKgJj3jlTjAxpanak83LFInhMhq9-osud28nyPJ7MTHUvJOXLqbQjntrpIKE89qhO7r9YNRXi7_9ASHzYB1YmxnlaXV6bprghur1D0qQz1JE4xOfLsybB8IrPQPGImwcfJ1ixCNpvVpg6l-kBsfaIrznAn--UDtCvK4pTmFaNkvu-tJx3hAyLbg4ify4POOMuCHMVuSxuSSoVBkeerd8IfF5fkV2TofNEdm_GGLN73KVVSsb4f3fxdi0cRStzsdDD2WR5zrmXscrC3pkngD745Vu2lW_)

## 6.4. Scénario : Consulter le stock

### Description
L’employé choisit l’option “Consulter le stock” dans le menu de l’interface console, puis saisit un critère de recherche tel que l’identifiant ou le nom du produit. Le contrôleur transmet cette demande au `ProduitDAO`, qui interroge la base de données SQLite pour obtenir la quantité disponible du produit en temps réel. L’information est ensuite retournée au contrôleur, qui l’affiche dans la console pour consultation par l’employé.

### Diagramme de séquence
![dss-consulterStock](https://img.plantuml.biz/plantuml/svg/XLGxRXin4Eq5w0u3DP83-G96RDYH7CI077-KCWt57Kb4kEIQ7yFfV8TKwL9wK-S6l8bFaXdkQlLnW5IIgE6yD--zuRaFmeLOwdulgA0HflCvl3x_W8arFkg03kZG1ok_zNlztX1EJq_XGWQCpWC6aBQih1ScU51bfTL3JBNd8gwT3MDGMdd1vR2EfL06Hdg8L6c_f_getnCoM0UN-G3vpfKXpAMGIAsDjmJ-41Le5HXDB9TAhf4eUQYSBQ8Alj-hQ08bLKKiO31fRutcKXY3xcW0maDxoW3qDRZqHpEboYd35tK6iOvw--2elm1jLpGC7dI_5YlXbSazhDReDjtRdmmmlRZ9xOIKwQL04F6f8mjeO27yOTlRvc-wcVlH9pVwG8L03GfhJAffP8TQ14M_KFE4Zqh09xL0PqXWqh8GGN1pwcTzM3cStyq6MzUcgLx404K4BrDjX5EsCQfL7uxFDZh12VXKQvGDMgFgVXe6yDKGkIegpsSbchYLywtvScsL9nCBOQX-gDwuh5-VVzgAyQ2oTA6rscMlCwBdKJO46wwjwaHNRWZEkNJaM_Cp4T61YAhAqf6_PQh3shAwaV_k8Y4UKV90RNosyjsdMiOgrIvRGADl8zZ8kCE7s74AJhefPie7R5tseuOMxk4MM0gJqvAl1XlzNimvETqQSWLXR6qcgFdbx7Bo1TwnBn_lRwvt5cIuZGdWSacsHeH8lZgaVVrDfzmYo-usKz8KRpWmz0xcSJScZ_U-7U-ifNVeq45DzvPaXSGA_wFeNZYxS53WDP9aI-jA4LBDmsS7hwPZcF39oZg5O_Xiop7SElKqXhj8EwVeht-uqFHfqYWwPlJo14V1BUaBwz4jPFh5KPARnsKddaHtirOdEyzMHvYti77pS5CUBQq9Fq0ScVo-wlGIiBl1GUWGpz4K-V7-2m00)
